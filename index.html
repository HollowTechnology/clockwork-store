<!DOCTYPE html>
<html>
<head>
  <title>install test</title>
  <script src="https://cdn.jsdelivr.net/gh/red-stone-network/clockwork@latest/tools/clockwork.js"></script>
</head>
<body>
  <h1>Install My Clockwork App</h1>
  <button onclick="installApp()">Install App</button>

  <script>
    const cw = new Clockwork();

    async function installApp() {
      if (!cw.isEmbedded) {
        alert("not running inside Clockwork.");
        return;
      }

      const appUrl = "https://cdn.jsdelivr.net/gh/iddu0/iddu0.github.io@main/misc/app.json";

      try {
        console.log("attempting install:", appUrl);
        await cw.installApp(appUrl);
        console.log("app install triggered");
        cw.sendNotification("App install request sent!");
      } catch (e) {
        console.error("failed to install:", e);
        alert("failed to install app: " + e.message);
      }
    }
  </script>
</body>
</html>

